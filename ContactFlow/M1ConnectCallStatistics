{"modules":[{"id":"ed4e8033-1b10-4a36-9543-789188e14707","type":"PlayPrompt","branches":[{"condition":"Success","transition":"cc8a12d6-46d3-4bc6-bd3d-05ddc6c1ba04"}],"parameters":[{"name":"Text","value":"Got it","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1024,"y":208},"useDynamic":false}},{"id":"cc8a12d6-46d3-4bc6-bd3d-05ddc6c1ba04","type":"SetAttributes","branches":[{"condition":"Success","transition":"400f51f0-a8f0-4b17-af21-2b81a9fb843c"},{"condition":"Error","transition":"400f51f0-a8f0-4b17-af21-2b81a9fb843c"}],"parameters":[{"name":"Attribute","value":"Lex.IntentName","key":"firstNode","namespace":"System"}],"metadata":{"position":{"x":1269,"y":103}}},{"id":"39f5b0c8-a4d4-48b4-b361-ed365738aa99","type":"PlayPrompt","branches":[{"condition":"Success","transition":"74b95be7-30d9-4e90-b280-06d547ae6cf9"}],"parameters":[{"name":"Text","value":"we are experiencing difficulties with the system right now. We are sending SMS with web link where you can chat with our CSO.\n\nThank you\nGood Bye","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1809,"y":27},"useDynamic":false}},{"id":"400f51f0-a8f0-4b17-af21-2b81a9fb843c","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"BillingEnquiries","transition":"39f5b0c8-a4d4-48b4-b361-ed365738aa99"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Promotions","transition":"771276b6-f114-4d8e-83d4-bfe1e93d8d8c"},{"condition":"NoMatch","transition":"771276b6-f114-4d8e-83d4-bfe1e93d8d8c"},{"condition":"Error","transition":"771276b6-f114-4d8e-83d4-bfe1e93d8d8c"}],"parameters":[{"name":"Text","value":"please say promotions to know more about new iphone launch and its promotions\n\nplease say billing for billing enquiries.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"TelecomDemo"},{"name":"BotAlias","value":"TelecomDemo"},{"name":"BotRegion","value":"ap-southeast-1"}],"metadata":{"position":{"x":1496,"y":210},"conditionMetadata":[{"id":"97ee1305-9d83-48cd-86e3-cacaf5b5e246","value":"BillingEnquiries"},{"id":"b19629b8-88a9-4ba5-b253-904847eead96","value":"Promotions"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"TelecomDemo"},"target":"Lex"},{"id":"d89a4381-4993-4892-9e0b-b6566a448a19","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":3364,"y":670}}},{"id":"4d91f9b5-4ce0-4f19-b8e1-74e11e61d08a","type":"PlayPrompt","branches":[{"condition":"Success","transition":"743bfe4e-0727-43be-9619-22be5f277377"}],"parameters":[{"name":"Text","value":"Got it","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1962,"y":567},"useDynamic":false}},{"id":"9445a743-0312-408b-82b6-2d23eba91d40","type":"SetAttributes","branches":[{"condition":"Success","transition":"4d91f9b5-4ce0-4f19-b8e1-74e11e61d08a"},{"condition":"Error","transition":"4d91f9b5-4ce0-4f19-b8e1-74e11e61d08a"}],"parameters":[{"name":"Attribute","value":"Lex.IntentName","key":"firstNode","namespace":"System"}],"metadata":{"position":{"x":1026,"y":384}}},{"id":"2991a5c3-8749-4df5-8413-b29f3d671bdf","type":"PlayPrompt","branches":[{"condition":"Success","transition":"e65fbfed-90f2-421d-b442-f72077e2c40a"}],"parameters":[{"name":"Text","value":"Error executing lambda","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1239,"y":1169},"useDynamic":false}},{"id":"e65fbfed-90f2-421d-b442-f72077e2c40a","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1301,"y":1442}}},{"id":"090b2b73-5fd0-47d5-93ef-c8e5b5c0a4a2","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"52ae21b1-702a-4046-9418-a5dffd53ceff"},{"condition":"Error","transition":"52ae21b1-702a-4046-9418-a5dffd53ceff"}],"parameters":[],"metadata":{"position":{"x":3792,"y":658},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"26c9bd0c-1ba8-4c28-b31e-ea44c18ea0c0","type":"SetAttributes","branches":[{"condition":"Success","transition":"df4014e0-7b6c-426e-9600-25d1a4f26e85"},{"condition":"Error","transition":"df4014e0-7b6c-426e-9600-25d1a4f26e85"}],"parameters":[{"name":"Attribute","value":"Pressed 1","key":"secondNode","namespace":null}],"metadata":{"position":{"x":1630,"y":1122}}},{"id":"41e63342-ce36-4476-82d0-866d5f861ca9","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":3309,"y":1415}}},{"id":"4a4d64b4-7c0a-425d-b704-9d6083abcc44","type":"SetAttributes","branches":[{"condition":"Success","transition":"47cf1897-7840-416a-a698-d1b8a4ff61d8"},{"condition":"Error","transition":"47cf1897-7840-416a-a698-d1b8a4ff61d8"}],"parameters":[{"name":"Attribute","value":"Pressed 2","key":"secondNode","namespace":null}],"metadata":{"position":{"x":1630,"y":1316}}},{"id":"591d48e9-ac46-4d6e-92f7-fc2836f7bbee","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"26c9bd0c-1ba8-4c28-b31e-ea44c18ea0c0"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"4a4d64b4-7c0a-425d-b704-9d6083abcc44"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"0","transition":"58b8f426-916f-4667-a465-34f16e98e770"},{"condition":"Timeout","transition":"58b8f426-916f-4667-a465-34f16e98e770"},{"condition":"NoMatch","transition":"58b8f426-916f-4667-a465-34f16e98e770"},{"condition":"Error","transition":"58b8f426-916f-4667-a465-34f16e98e770"}],"parameters":[{"name":"Text","value":"press 1 to know the TeliVision packages available\n\npress 2 to cancel existing connection\n\npress 0 to speak to agent","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1198,"y":737},"conditionMetadata":[{"id":"dea74eea-eb9a-4e22-8030-94c4fae64cd8","value":"1"},{"id":"c7790749-5392-4842-9899-17d77d73e540","value":"2"},{"id":"12f67b6d-7af0-4e8b-a446-933a1df49fbd","value":"0"}],"useDynamic":false,"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":null},"target":"Digits"},{"id":"12e968f7-dd86-410d-807e-c9c40ed2beb0","type":"PlayPrompt","branches":[{"condition":"Success","transition":"94c37a0e-aadb-460b-8def-3569b0f6a432"}],"parameters":[{"name":"Text","value":"Switching to DTMF Flow","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":910,"y":624},"useDynamic":false}},{"id":"94c37a0e-aadb-460b-8def-3569b0f6a432","type":"SetAttributes","branches":[{"condition":"Success","transition":"591d48e9-ac46-4d6e-92f7-fc2836f7bbee"},{"condition":"Error","transition":"591d48e9-ac46-4d6e-92f7-fc2836f7bbee"}],"parameters":[{"name":"Attribute","value":"Non-Lex","key":"firstNode","namespace":null}],"metadata":{"position":{"x":958,"y":804}}},{"id":"30715e44-0ae7-478e-aa0b-df771925e681","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"MobileEnquiries","transition":"ed4e8033-1b10-4a36-9543-789188e14707"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"BroadbandEnquiries","transition":"9445a743-0312-408b-82b6-2d23eba91d40"},{"condition":"NoMatch","transition":"12e968f7-dd86-410d-807e-c9c40ed2beb0"},{"condition":"Error","transition":"12e968f7-dd86-410d-807e-c9c40ed2beb0"}],"parameters":[{"name":"Text","value":"How can i help you today ?\n\nPlease say mobile for mobile related queries\n\nBroadband for broadband related queries.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"TelecomDemo"},{"name":"BotAlias","value":"TelecomDemo"},{"name":"BotRegion","value":"ap-southeast-1"}],"metadata":{"position":{"x":682,"y":202},"conditionMetadata":[{"id":"7ce09928-c8e6-4d94-bae5-ed1bc2bd7165","value":"MobileEnquiries"},{"id":"9e1cb562-06d6-411f-8851-713688a61b9d","value":"BroadbandEnquiries"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"TelecomDemo"},"target":"Lex"},{"id":"1f888acf-edd6-4d0a-a062-8e7b7c080a6c","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"fa887bc8-736f-4e4c-8658-9f719ecd1ca3"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":166,"y":210}}},{"id":"fa887bc8-736f-4e4c-8658-9f719ecd1ca3","type":"PlayPrompt","branches":[{"condition":"Success","transition":"30715e44-0ae7-478e-aa0b-df771925e681"}],"parameters":[{"name":"Text","value":"Hello, Thanks for calling M1 333","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":401,"y":202},"useDynamic":false}},{"id":"5246a380-b98d-4694-8417-103cb3138abd","type":"PlayPrompt","branches":[{"condition":"Success","transition":"52ae21b1-702a-4046-9418-a5dffd53ceff"}],"parameters":[{"name":"Text","value":"error executing lambda while adding intent to db","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2794,"y":356},"useDynamic":false}},{"id":"771276b6-f114-4d8e-83d4-bfe1e93d8d8c","type":"SetAttributes","branches":[{"condition":"Success","transition":"93a56a6f-17b8-43ad-9bd1-f643b44be49c"},{"condition":"Error","transition":"93a56a6f-17b8-43ad-9bd1-f643b44be49c"}],"parameters":[{"name":"Attribute","value":"Lex.IntentName","key":"secondNode","namespace":"System"}],"metadata":{"position":{"x":2103,"y":281}}},{"id":"93a56a6f-17b8-43ad-9bd1-f643b44be49c","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"236b2dc5-a937-4d91-ade7-0b7b736f8d72"},{"condition":"Error","transition":"5246a380-b98d-4694-8417-103cb3138abd"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-1:201089190273:function:AddCustomerContactFlowJourneyData","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"flowType","value":"AgentQueue","namespace":null},{"name":"Parameter","key":"Intent","value":"$.Attributes.firstNode -> $.Attributes.secondNode","namespace":null}],"metadata":{"position":{"x":2424,"y":308},"dynamicMetadata":{"flowType":false,"Intent":false},"useDynamic":false},"target":"Lambda"},{"id":"94f7124e-e3e4-4c3d-b5f9-4800e2c8b1d1","type":"PlayPrompt","branches":[{"condition":"Success","transition":"52ae21b1-702a-4046-9418-a5dffd53ceff"}],"parameters":[{"name":"Text","value":"error executing lambda to send sms","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2797,"y":197},"useDynamic":false}},{"id":"74b95be7-30d9-4e90-b280-06d547ae6cf9","type":"SetAttributes","branches":[{"condition":"Success","transition":"20b7c81f-d690-49a5-99e0-6836b254d662"},{"condition":"Error","transition":"20b7c81f-d690-49a5-99e0-6836b254d662"}],"parameters":[{"name":"Attribute","value":"Lex.IntentName","key":"secondNode","namespace":"System"}],"metadata":{"position":{"x":2103,"y":75}}},{"id":"52ae21b1-702a-4046-9418-a5dffd53ceff","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":3778,"y":231}}},{"id":"293c29b4-56eb-4ba8-a777-32e470b66a23","type":"PlayPrompt","branches":[{"condition":"Success","transition":"52ae21b1-702a-4046-9418-a5dffd53ceff"}],"parameters":[{"name":"Text","value":"Error executing lambda while updating status of Deflect","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":3074,"y":148},"useDynamic":false}},{"id":"20b7c81f-d690-49a5-99e0-6836b254d662","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"be35e709-2e4a-4e39-afec-9d9f0abb8ff2"},{"condition":"Error","transition":"94f7124e-e3e4-4c3d-b5f9-4800e2c8b1d1"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-1:201089190273:function:SendSMSFromContactFlowToCaller","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"message","value":"Message from M1 : Please use below weblink to enjoy with our chat service.  https://ec2-52-77-232-11.ap-southeast-1.compute.amazonaws.com:9000/","namespace":null}],"metadata":{"position":{"x":2427,"y":58},"dynamicMetadata":{"message":false},"useDynamic":false},"target":"Lambda"},{"id":"be35e709-2e4a-4e39-afec-9d9f0abb8ff2","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"52ae21b1-702a-4046-9418-a5dffd53ceff"},{"condition":"Error","transition":"293c29b4-56eb-4ba8-a777-32e470b66a23"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-1:201089190273:function:AddCustomerContactFlowJourneyData","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"flowType","value":"SMS-Deflect","namespace":null},{"name":"Parameter","key":"Intent","value":"$.Attributes.firstNode -> $.Attributes.secondNode","namespace":null}],"metadata":{"position":{"x":2793,"y":5},"dynamicMetadata":{"flowType":false,"Intent":false},"useDynamic":false},"target":"Lambda"},{"id":"2fbf2d2f-f055-45f8-a25a-9490134931f6","type":"PlayPrompt","branches":[{"condition":"Success","transition":"d89a4381-4993-4892-9e0b-b6566a448a19"}],"parameters":[{"name":"Text","value":"Error executing lambda while inserting queue status","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":3113,"y":657},"useDynamic":false}},{"id":"743bfe4e-0727-43be-9619-22be5f277377","type":"PlayPrompt","branches":[{"condition":"Success","transition":"7ba265fb-2a0a-4be8-bfc0-5468d73a017d"}],"parameters":[{"name":"Text","value":"please hold while we transfer your call to CSO.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2471,"y":576},"useDynamic":false}},{"id":"7ba265fb-2a0a-4be8-bfc0-5468d73a017d","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"236b2dc5-a937-4d91-ade7-0b7b736f8d72"},{"condition":"Error","transition":"2fbf2d2f-f055-45f8-a25a-9490134931f6"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-1:201089190273:function:AddCustomerContactFlowJourneyData","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"flowType","value":"Agent Queue","namespace":null},{"name":"Parameter","key":"Intent","value":"$.Attributes.firstNode","namespace":null}],"metadata":{"position":{"x":2871,"y":632},"dynamicMetadata":{"flowType":false,"Intent":false},"useDynamic":false},"target":"Lambda"},{"id":"236b2dc5-a937-4d91-ade7-0b7b736f8d72","type":"SetQueue","branches":[{"condition":"Success","transition":"090b2b73-5fd0-47d5-93ef-c8e5b5c0a4a2"},{"condition":"Error","transition":"090b2b73-5fd0-47d5-93ef-c8e5b5c0a4a2"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:ap-southeast-1:201089190273:instance/11a61352-4149-408a-b38e-3bde0b584f7f/queue/5a910840-277b-4f62-953e-a9ebf39a8c2d","namespace":null,"resourceName":"BasicQueue"}],"metadata":{"position":{"x":3232,"y":900},"useDynamic":false,"queue":{"id":"arn:aws:connect:ap-southeast-1:201089190273:instance/11a61352-4149-408a-b38e-3bde0b584f7f/queue/5a910840-277b-4f62-953e-a9ebf39a8c2d","text":"BasicQueue"}}},{"id":"58b8f426-916f-4667-a465-34f16e98e770","type":"SetAttributes","branches":[{"condition":"Success","transition":"831aa7ff-6a97-4535-9436-32ac296beea8"},{"condition":"Error","transition":"831aa7ff-6a97-4535-9436-32ac296beea8"}],"parameters":[{"name":"Attribute","value":"Pressed 0","key":"secondNode","namespace":null}],"metadata":{"position":{"x":2089,"y":794}}},{"id":"831aa7ff-6a97-4535-9436-32ac296beea8","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"236b2dc5-a937-4d91-ade7-0b7b736f8d72"},{"condition":"Error","transition":"236b2dc5-a937-4d91-ade7-0b7b736f8d72"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-1:201089190273:function:AddCustomerContactFlowJourneyData","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"flowType","value":"Non-Lex","namespace":null},{"name":"Parameter","key":"Intent","value":"$.Attributes.firstNode -> $.Attributes.secondNode","namespace":null}],"metadata":{"position":{"x":2378,"y":800},"dynamicMetadata":{"flowType":false,"Intent":false},"useDynamic":false},"target":"Lambda"},{"id":"2c383d0d-dd77-4d23-941e-86cbfd8eb4b1","type":"PlayPrompt","branches":[{"condition":"Success","transition":"41e63342-ce36-4476-82d0-866d5f861ca9"}],"parameters":[{"name":"Text","value":"Thank you\nGood Bye","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2798,"y":1242},"useDynamic":false}},{"id":"df4014e0-7b6c-426e-9600-25d1a4f26e85","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4b0540e1-dec4-41dc-bf4a-0a7dc524f215"}],"parameters":[{"name":"Text","value":"Family Fun : English and Chinese entertainment plus News channels at $23.90 cents per month","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1961,"y":1170},"useDynamic":false}},{"id":"47cf1897-7840-416a-a698-d1b8a4ff61d8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4b0540e1-dec4-41dc-bf4a-0a7dc524f215"}],"parameters":[{"name":"Text","value":"Sorry for the inconvenience caused to cancel. We will cancel your subscription","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1975,"y":1390},"useDynamic":false}},{"id":"4b0540e1-dec4-41dc-bf4a-0a7dc524f215","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"2c383d0d-dd77-4d23-941e-86cbfd8eb4b1"},{"condition":"Error","transition":"2c383d0d-dd77-4d23-941e-86cbfd8eb4b1"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-1:201089190273:function:AddCustomerContactFlowJourneyData","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"flowType","value":"Non-Lex","namespace":null},{"name":"Parameter","key":"Intent","value":"$.Attributes.firstNode -> $.Attributes.secondNode","namespace":null}],"metadata":{"position":{"x":2329,"y":1140},"dynamicMetadata":{"flowType":false,"Intent":false},"useDynamic":false},"target":"Lambda"}],"version":"1","start":"1f888acf-edd6-4d0a-a062-8e7b7c080a6c","metadata":{"entryPointPosition":{"x":15,"y":213},"snapToGrid":false,"name":"M1ConnectCallStatistics","description":null,"type":"contactFlow","status":"published","hash":"46b292ec0c2ccc863b2f6d0ddae3a765ee03ae78991c59317ae4d91c44575a06"},"type":"contactFlow"}